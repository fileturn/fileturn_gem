---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/api/files/upload.json?content_length=2314&content_type=md&token=67sFfjudMpXxJeioQcPSppYkoVdQD1oetqPWzMAh
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.8.7
      Content-Length:
      - '0'
      Accept:
      - ! '*/*'
  response:
    status:
      code: 201
      message: ! 'Created '
    headers:
      Content-Type:
      - application/json; charset=utf-8
      X-Ua-Compatible:
      - IE=Edge
      Etag:
      - ! '"505619e4048125e38aad9ea7ed308f23"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e773b8acc801ceebb9bc9288029c57cb
      X-Runtime:
      - '0.035095'
      Server:
      - WEBrick/1.3.1 (Ruby/1.9.3/2012-11-10)
      Date:
      - Sun, 07 Jul 2013 22:46:58 GMT
      Content-Length:
      - '352'
      Connection:
      - Keep-Alive
    body:
      encoding: US-ASCII
      string: ! '{"id":295,"policy":"eyJleHBpcmF0aW9uIjoiMjAxMy0wNy0wN1QyMzoxNjo1OFoiLCJjb25kaXRpb25zIjpbeyJidWNrZXQiOiJmaWxldHVybiJ9LHsia2V5IjoidXBsb2Fkcy84XzI5NSJ9LFsiY29udGVudC1sZW5ndGgtcmFuZ2UiLDIzMTQsMjMxNF1dfQ==","signature":"Rndy0OKdyVkqKU32ZvaJQ0HxWG0=","aws_access_key_id":"AKIAIKXW3ZZ5WNURNYMA","key":"uploads/8_295","url":"https://fileturn.s3.amazonaws.com"}'
    http_version: 
  recorded_at: Sun, 07 Jul 2013 22:46:58 GMT
- request:
    method: post
    uri: https://fileturn.s3.amazonaws.com/
    body:
      encoding: US-ASCII
      string: ! "-------------RubyMultipartPost\r\nContent-Disposition: form-data;
        name=\"policy\"\r\n\r\neyJleHBpcmF0aW9uIjoiMjAxMy0wNy0wN1QyMzoxNjo1OFoiLCJjb25kaXRpb25zIjpbeyJidWNrZXQiOiJmaWxldHVybiJ9LHsia2V5IjoidXBsb2Fkcy84XzI5NSJ9LFsiY29udGVudC1sZW5ndGgtcmFuZ2UiLDIzMTQsMjMxNF1dfQ==\r\n-------------RubyMultipartPost\r\nContent-Disposition:
        form-data; name=\"signature\"\r\n\r\nRndy0OKdyVkqKU32ZvaJQ0HxWG0=\r\n-------------RubyMultipartPost\r\nContent-Disposition:
        form-data; name=\"AWSAccessKeyId\"\r\n\r\nAKIAIKXW3ZZ5WNURNYMA\r\n-------------RubyMultipartPost\r\nContent-Disposition:
        form-data; name=\"key\"\r\n\r\nuploads/8_295\r\n-------------RubyMultipartPost\r\nContent-Disposition:
        form-data; name=\"file\"; filename=\"README.md\"\r\nContent-Length: 2314\r\nContent-Type:
        \r\nContent-Transfer-Encoding: binary\r\n\r\n# Fileturn\n\nRuby Gem Support
        for [FileTurn](http://fileturn.net/) Api. FileTurn converts your files to
        different formats. \n\n## Installation\n\nAdd this line to your application's
        Gemfile:\n\n    gem 'fileturn'\n\nAnd then execute:\n\n    $ bundle\n\nOr
        install it yourself as:\n\n    $ gem install fileturn\n\n## Configuration\n\nRetrieve
        your API Key from [Dashboard](http://fileturn.net/dashboard/api_token).\n\n\tFileTurn.configure(:api_key
        => \"[YOUR KEY]\")\n\t\nThats it - now you are ready to use FileTurn.\n\n##
        Usage\n\n### Converting your files\n\nThere are multiple ways to convert a
        file. If your file is public, we can fetch the file and you just need to specify
        the url. \n\n\tfile = FileTurn::File.convert(\n\t\t:url => \"http://crypto.stanford.edu/DRM2002/darknet5.doc\",\n\t\t:convert_to
        => :pdf\n\t)\n\t\n\tunless file.errors\n\t\t# Woot done!\n\tend\n\nIf your
        file is stored locally, you can use\n\n\tfile = FileTurn::File.convert(\n\t\t:file
        => File.open(\"localfile.doc\"),\n\t\t:convert_to => :txt\n\t)\n\nThats all
        you have to do to convert files. Upon calling that, your file will be queued
        for converting. \n\n### How will i know when my file is done?\n\n#### File
        Object\n\nThere are few ways to check if your file is done. You can repeatedly
        call one of these:\n\n\tfile.reload.queued? \n\tfile.reload.success?\n\tfile.reload.failed?\n\nWhen
        your file is done, the file object will store a download link\n\n\twhile(file.reload.queued?)\n\t\tsleep(5000)\n\tend\n\t\n\tif
        file.success?\n\t\tdownload_url = file.download_url\n\t\ttime_taken_for_conversion
        = file.time_taken\n\tend\n\nIn the case you get a failure, you can retrieve
        the details using\n\n\tif(file.reload.failed?)\n\t\tfile.notifications.last.details\n\tend\n\n####
        Notifications\n\nYou can also request notification to be sent to you whenver
        the status of a file changes. Go into your [Dashboard](http://fileturn.net/dashboard/notifications)
        and specify a notification url. \n\nWe will hit this notification url with
        the new status of the file and the file_id. \n\n\n## Other File Options\n\nYou
        can fetch information of a single file using the file_id.\n\n\tFileTurn::File.find(file_id)\n\nOr
        all the files\n\t\n\tFileTurn::File.all\n\n\n## Account Details\n\nYou can
        also fetch account details like how much credit you have. \n\n\tFileTurn::Account.load
        # fetch data from server\n\tFileTurn::Account.credits\n\nOr you can use\n\n\tFileTurn::Account.load.credits\n\nThanks!\r\n-------------RubyMultipartPost--\r\n\r\n"
    headers:
      User-Agent:
      - Faraday v0.8.7
      Content-Type:
      - multipart/form-data;boundary=-----------RubyMultipartPost
      Content-Length:
      - '3107'
      Accept:
      - ! '*/*'
  response:
    status:
      code: 204
      message: No Content
    headers:
      X-Amz-Id-2:
      - sPneiA/uySWOci+ZpcNBTzBRouUtRF6RwHvfjObHhcEiDG13Fz7FToqc5rUejwdG
      X-Amz-Request-Id:
      - 9C3451E544D80A73
      Date:
      - Sun, 07 Jul 2013 22:44:37 GMT
      Etag:
      - ! '"e3ac713f2489d9c764b8272add93b75d"'
      Location:
      - https://fileturn.s3.amazonaws.com/uploads%2F8_295
      Server:
      - AmazonS3
    body:
      encoding: US-ASCII
      string: ''
    http_version: 
  recorded_at: Sun, 07 Jul 2013 22:46:59 GMT
- request:
    method: post
    uri: http://localhost:3000/api/files.json?convert_to=pdf&file&file_type=md&token=67sFfjudMpXxJeioQcPSppYkoVdQD1oetqPWzMAh&upload_id=295&url=https://fileturn.s3.amazonaws.com/uploads/8_295
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.8.7
      Content-Length:
      - '0'
      Accept:
      - ! '*/*'
  response:
    status:
      code: 201
      message: ! 'Created '
    headers:
      Content-Type:
      - application/json; charset=utf-8
      X-Ua-Compatible:
      - IE=Edge
      Etag:
      - ! '"ff0e8382dc641b864622680ca9c6b9c3"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 26206bcc88a1744a6a780c1110283995
      X-Runtime:
      - '0.028675'
      Server:
      - WEBrick/1.3.1 (Ruby/1.9.3/2012-11-10)
      Date:
      - Sun, 07 Jul 2013 22:46:59 GMT
      Content-Length:
      - '176'
      Connection:
      - Keep-Alive
    body:
      encoding: US-ASCII
      string: ! '{"id":612,"url":"https://fileturn.s3.amazonaws.com/uploads/8_295","convert_to":"pdf","created_at":"2013-07-07T22:46:59Z","status":"queued","download_url":"","notifications":[]}'
    http_version: 
  recorded_at: Sun, 07 Jul 2013 22:46:59 GMT
recorded_with: VCR 2.4.0
